<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SVG Grid with Array of Inline SVGs</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>

<style>
  .grid-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Square grid with 6 columns */
    gap: 0; /* Remove gap to align borders closely */
    width: min-content;
    background-color: #fb4c29;
}

.cell {
    width: 200px;
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    border: 1px solid #fb4c29; /* Set border for all cells */
    border-right: none; /* Remove right border */
    border-bottom: none; /* Remove bottom border */
}

/* Add bottom and right borders only to the last row and column cells */
.grid-container > .cell:nth-child(6n) { /* Last cell in each row */
    border-right: 1px solid #fb4c29;
}
.grid-container > .cell:nth-last-child(-n+6) { /* Cells in the last row */
    border-bottom: 1px solid #fb4c29;
}
  .cell svg {
    display: block;
    transform-origin: 50% 50%;
  }
</style>
</head>
<body>
  <button onclick="saveGridAsImage()">Save Grid as Image</button>

<div id="svgGrid" class="grid-container"></div>

<script>
// const hexColors = ['#0858a1', '#05afc8', '#eb5a79', '#e9b309', '#85cedf', '#e2aaab'];
// const hexColors = ['#F7CAA4', '#F79975', '#F36A4A', '#BC3921', '#860000', '#550000'];
 const hexColors = ['#fcf5f3', '#fcf5f3', '#fcf5f3', '#fcf5f3', '#fcf5f3', '#fcf5f3'];
//const hexColors = ['#F58220', '#FBB24C', '#0099D8', '#FFFFFF', '#E7EAF1'];
// const hexColors = ['#FF6F3C', '#FCE2CF', '#FFD159', '#3E3C3C'];
const rotationDegrees = [0, 90, 180, 270];
const svgTemplates = [
    //Quarter Circle
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100">
  //<path fill="COLOR_PLACEHOLDER" d="M100,100H0V0c57.62,0,100,42.38,100,100Z"/>
//</svg>`,
//Leaf
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100">
 // <path fill="COLOR_PLACEHOLDER" d="M0,100L0,100L0,100C0,44.8,44.8,0,100,0h0v0C100,55.2,55.2,100,0,100z"/>
//</svg>`,
//Thick Quarter Circles
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  //<g>
	//<path d="M0,58.5c-22.9,0-41.5,18.6-41.5,41.5s18.6,41.5,41.5,41.5c22.9,0,41.5-18.6,41.5-41.5S22.9,58.5,0,58.5z M0,126.2
	//	c-14.4,0-26.2-11.7-26.2-26.2S-14.4,73.8,0,73.8c14.4,0,26.2,11.7,26.2,26.2S14.4,126.2,0,126.2z"/>
//	<path d="M0,40.1c-33.1,0-59.9,26.9-59.9,59.9s26.9,59.9,59.9,59.9c33.1,0,59.9-26.9,59.9-59.9S33.1,40.1,0,40.1z M0,144.6
//		c-24.6,0-44.6-20-44.6-44.6s20-44.6,44.6-44.6c24.6,0,44.6,20,44.6,44.6S24.6,144.6,0,144.6z"/>
//	<path d="M0,77c-12.7,0-23,10.3-23,23s10.3,23,23,23c12.7,0,23-10.3,23-23S12.7,77,0,77z"/>
//	<path d="M0,0c-55.1,0-100,44.9-100,100c0,55.1,44.9,100,100,100c55.1,0,100-44.9,100-100C100,44.9,55.1,0,0,0z M0,181.5
	//	c-45,0-81.5-36.6-81.5-81.5S-45,18.5,0,18.5c45,0,81.5,36.6,81.5,81.5C81.5,145,45,181.5,0,181.5z"/>
	//<path d="M0,21.6c-43.2,0-78.4,35.2-78.4,78.4c0,43.2,35.2,78.4,78.4,78.4c43.2,0,78.4-35.2,78.4-78.4C78.4,56.8,43.2,21.6,0,21.6z
		// M0,163.1c-34.8,0-63.1-28.3-63.1-63.1S-34.8,36.9,0,36.9c34.8,0,63.1,28.3,63.1,63.1S34.8,163.1,0,163.1z"/>
//</g>
//</svg>`,
//Thin Quarter Circles
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  //<g>
	//<path d="M0,73.8c-14.4,0-26.2,11.7-26.2,26.2s11.7,26.2,26.2,26.2c14.4,0,26.2-11.7,26.2-26.2S14.4,73.8,0,73.8z M0,123
//		c-12.7,0-23-10.3-23-23s10.3-23,23-23c12.7,0,23,10.3,23,23S12.7,123,0,123z"/>
//	<path d="M0,55.4c-24.6,0-44.6,20-44.6,44.6s20,44.6,44.6,44.6c24.6,0,44.6-20,44.6-44.6S24.6,55.4,0,55.4z M0,141.5
	//	c-22.9,0-41.5-18.6-41.5-41.5S-22.9,58.5,0,58.5c22.9,0,41.5,18.6,41.5,41.5S22.9,141.5,0,141.5z"/>
//	<path d="M0,36.9c-34.8,0-63.1,28.3-63.1,63.1s28.3,63.1,63.1,63.1c34.8,0,63.1-28.3,63.1-63.1S34.8,36.9,0,36.9z M0,159.9
	//	c-33.1,0-59.9-26.9-59.9-59.9S-33.1,40.1,0,40.1c33.1,0,59.9,26.9,59.9,59.9S33.1,159.9,0,159.9z"/>
//	<path d="M0,18.5c-45,0-81.5,36.6-81.5,81.5S-45,181.5,0,181.5c45,0,81.5-36.6,81.5-81.5S45,18.5,0,18.5z M0,178.4
	//	c-43.2,0-78.4-35.2-78.4-78.4c0-43.2,35.2-78.4,78.4-78.4c43.2,0,78.4,35.2,78.4,78.4S43.2,178.4,0,178.4z"/>
//	<path d="M0,0c-55.1,0-100,44.9-100,100c0,55.1,44.9,100,100,100c55.1,0,100-44.9,100-100C100,44.9,55.1,0,0,0z M0,196.9
	//	c-53.4,0-96.9-43.5-96.9-96.9S-53.4,3.1,0,3.1S96.9,46.6,96.9,100S53.4,196.9,0,196.9z"/>
//</g>
//</svg>`,
//4 Leaf Diamond
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
//  <g>
//	<path d="M50.4,1.8v3.1C50.4,30,30,50.4,4.9,50.4H1.8v-3.1c0-25.1,20.4-45.5,45.5-45.5H50.4z"/>
//	<path d="M99,47.3v3.1h-3.1C70.8,50.4,50.4,30,50.4,4.9V1.8h3.1C78.6,1.8,99,22.2,99,47.3z"/>
//	<path d="M99,50.4v3.1C99,78.6,78.6,99,53.5,99h-3.1v-3.1c0-25.1,20.4-45.5,45.5-45.5H99z"/>
//	<path d="M1.8,53.5v-3.1h3.1c25.1,0,45.5,20.4,45.5,45.5V99h-3.1C22.2,99,1.8,78.6,1.8,53.5z"/>
//</g>
//</svg>`,
//Round Quarter Square
`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,16.4v51.7c0,34.2-27.7,61.9-61.9,61.9H16.4C7.4,130,0,122.6,0,113.6V61.9C0,27.7,27.7,0,61.9,0l51.7,0
	C122.6,0,130,7.4,130,16.4z"/>
</svg>`,
`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,16.4v51.7c0,34.2-27.7,61.9-61.9,61.9H16.4C7.4,130,0,122.6,0,113.6V61.9C0,27.7,27.7,0,61.9,0l51.7,0
	C122.6,0,130,7.4,130,16.4z"/>
</svg>`,
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,130H0V0l130,130Z"/>
</svg>`,
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,130H0V0l130,130Z"/>
</svg>`,
`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,16.4v51.7c0,34.2-27.7,61.9-61.9,61.9H16.4C7.4,130,0,122.6,0,113.6V61.9C0,27.7,27.7,0,61.9,0l51.7,0
	C122.6,0,130,7.4,130,16.4z"/>
</svg>`,
`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,16.4v51.7c0,34.2-27.7,61.9-61.9,61.9H16.4C7.4,130,0,122.6,0,113.6V61.9C0,27.7,27.7,0,61.9,0l51.7,0
	C122.6,0,130,7.4,130,16.4z"/>
</svg>`,
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,130H0V0l130,130Z"/>
</svg>`,
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
  <path d="M130,130H0V0l130,130Z"/>
</svg>`,
//`<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300">
//  <rect x="0" y="0" width="65" height="300" fill="COLOR_PLACEHOLDER" />
//</svg>`,
//`<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300">
//  <rect x="0" y="0" width="65" height="300" fill="#fb4c29" />
//</svg>`,
//4 Triangles
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
 // <g>
	//<polygon points="50,0 50,50 0,0 	"/>
	//<polygon points="50,0 100,0 100,50 	"/>
	//<polygon points="50,50 100,50 100,100 	"/>
	//<polygon points="50,100 0,50 50,50 	"/>
//</g>
//</svg>`,
//Flower
//`<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
 // <g>
  //  <path d="M50,100L50,100c-13.8-13.8-13.8-36.2,0-50l0,0l0,0C63.8,63.8,63.8,86.2,50,100L50,100z"/>
//<path d="M0,50L0,50L0,50c13.8-13.8,36.2-13.8,50,0l0,0l0,0C36.2,63.8,13.8,63.8,0,50z"/>
//<path d="M50,50L50,50C36.2,36.2,36.2,13.8,50,0l0,0l0,0C63.8,13.8,63.8,36.2,50,50L50,50z"/>
//<path d="M50,50L50,50L50,50c13.8-13.8,36.2-13.8,50,0l0,0l0,0C86.2,63.8,63.8,63.8,50,50z"/>
//<path d="M14.6,85.4L14.6,85.4C14.6,65.8,30.5,50,50,50h0v0C50,69.5,34.2,85.4,14.6,85.4L14.6,85.4z"/>
//<path d="M14.6,14.6L14.6,14.6L14.6,14.6C34.2,14.6,50,30.5,50,50v0h0C30.5,50,14.6,34.2,14.6,14.6z"/>
//<path d="M50,50L50,50c0-19.5,15.8-35.4,35.4-35.4h0v0C85.4,34.2,69.5,50,50,50L50,50z"/>
//<path d="M50,50L50,50L50,50c19.5,0,35.4,15.8,35.4,35.4v0h0C65.8,85.4,50,69.5,50,50z"/>
//</g>
//</svg>`,
//flag
//`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 86.02" fill="COLOR_PLACEHOLDER">
  //  <path class="cls-1" d="M50,21.57c-16.67,0-33.33,20.27-50,20.27v-21.57C16.67,20.27,33.33,0,50,0v21.57Z" />
  //  <path class="cls-1" d="M50,21.57c16.67,0,33.33-20.27,50-20.27v21.57c-16.67,0-33.33,20.27-50,20.27v-21.57Z" />
  //  <path class="cls-1" d="M50,64.45c-16.67,0-33.33,20.27-50,20.27v-21.57c16.67,0,33.33-20.27,50-20.27v21.57Z" />
  //  <path class="cls-1" d="M50,64.45c16.67,0,33.33-20.27,50-20.27v21.57c-16.67,0-33.33,20.27-50,20.27v-21.57Z" />
//</svg>`,
//L-shap spiral
/*`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" fill="COLOR_PLACEHOLDER" style="padding:10%;">
    <path class="cls-1"
            d="M23.08,79.39l10.56-.37c1.62-.06,2.88-1.41,2.83-3.03v-.1c-.05-1.4-1.09-2.55-2.47-2.79-5.38-.92-9.56-5.51-9.75-11.18-.18-5.16,3-9.66,7.58-11.4,1.15-.44,1.9-1.55,1.85-2.78h0c-.07-1.92-1.97-3.24-3.78-2.62-7.63,2.62-13,9.98-12.7,18.45l.37,10.66c.1,2.94,2.57,5.24,5.51,5.14Z" />
   
        <path class="cls-1"
            d="M1.69,55.24l7.73,7.21c1.18,1.1,3.04,1.04,4.14-.14l.07-.07c.95-1.02,1.04-2.57.23-3.71-3.15-4.45-2.86-10.65,1.01-14.8,3.53-3.78,8.96-4.71,13.43-2.7,1.12.5,2.44.24,3.28-.66h0c1.31-1.4.9-3.68-.82-4.52-7.25-3.54-16.25-2.13-22.04,4.07l-7.28,7.8c-2.01,2.15-1.89,5.52.26,7.53Z" />
   
        <path class="cls-1"
            d="M3.66,23.06l.37,10.56c.06,1.62,1.41,2.88,3.03,2.82h.1c1.4-.05,2.55-1.08,2.79-2.46.92-5.38,5.52-9.55,11.18-9.75,5.17-.18,9.67,3,11.4,7.58.44,1.15,1.55,1.9,2.78,1.85h0c1.92-.07,3.24-1.97,2.62-3.78-2.62-7.63-9.98-12.99-18.46-12.69l-10.67.37c-2.94.1-5.24,2.57-5.14,5.51Z" />
  
       <g id="_x3C_Radial_Repeat_x3E_">
        <path class="cls-1"
            d="M22.22,76.48l10.17-.35c1.56-.05,2.78-1.36,2.72-2.92v-.09c-.05-1.35-1.05-2.46-2.37-2.69-5.18-.89-9.2-5.31-9.39-10.77-.17-4.97,2.89-9.31,7.3-10.98,1.11-.42,1.83-1.5,1.79-2.68h0c-.06-1.85-1.89-3.12-3.64-2.52-7.35,2.52-12.51,9.61-12.23,17.78l.36,10.27c.1,2.83,2.47,5.05,5.3,4.95Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-2">
        <path class="cls-1"
            d="M1.63,53.22l7.44,6.94c1.14,1.06,2.92,1,3.99-.14l.06-.07c.92-.99,1-2.48.22-3.58-3.03-4.29-2.75-10.26.97-14.25,3.4-3.64,8.63-4.54,12.93-2.6,1.08.49,2.35.23,3.16-.63h0c1.26-1.35.87-3.55-.79-4.36-6.98-3.41-15.64-2.05-21.22,3.92l-7.01,7.51c-1.93,2.07-1.82,5.32.25,7.25Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-3">
        <path class="cls-1"
            d="M3.52,22.22l.35,10.17c.05,1.56,1.36,2.78,2.92,2.72h.09c1.35-.05,2.46-1.05,2.69-2.37.89-5.18,5.31-9.2,10.77-9.39,4.97-.17,9.31,2.89,10.98,7.3.42,1.11,1.5,1.83,2.68,1.79h0c1.85-.06,3.12-1.89,2.52-3.64-2.52-7.35-9.61-12.51-17.78-12.23l-10.27.36c-2.83.1-5.05,2.47-4.95,5.3Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-4">
        <path class="cls-1"
            d="M26.78,1.63l-6.94,7.44c-1.06,1.14-1,2.92.14,3.99l.07.06c.99.92,2.48,1,3.58.22,4.29-3.03,10.26-2.75,14.25.97,3.64,3.4,4.54,8.63,2.6,12.93-.49,1.08-.23,2.35.63,3.16h0c1.35,1.26,3.55.87,4.36-.79,3.41-6.98,2.05-15.64-3.92-21.22l-7.51-7.01c-2.07-1.93-5.32-1.82-7.25.25Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-5">
        <path class="cls-1"
            d="M57.78,3.52l-10.17.35c-1.56.05-2.78,1.36-2.72,2.92v.09c.05,1.35,1.05,2.46,2.37,2.69,5.18.89,9.2,5.31,9.39,10.77.17,4.97-2.89,9.31-7.3,10.98-1.11.42-1.83,1.5-1.79,2.68h0c.06,1.85,1.89,3.12,3.64,2.52,7.35-2.52,12.51-9.61,12.23-17.78l-.36-10.27c-.1-2.83-2.47-5.05-5.3-4.95Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-6">
        <path class="cls-1"
            d="M78.37,26.78l-7.44-6.94c-1.14-1.06-2.92-1-3.99.14l-.06.07c-.92.99-1,2.48-.22,3.58,3.03,4.29,2.75,10.26-.97,14.25-3.4,3.64-8.63,4.54-12.93,2.6-1.08-.49-2.35-.23-3.16.63h0c-1.26,1.35-.87,3.55.79,4.36,6.98,3.41,15.64,2.05,21.22-3.92l7.01-7.51c1.93-2.07,1.82-5.32-.25-7.25Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-7">
        <path class="cls-1"
            d="M76.48,57.78l-.35-10.17c-.05-1.56-1.36-2.78-2.92-2.72h-.09c-1.35.05-2.46,1.05-2.69,2.37-.89,5.18-5.31,9.2-10.77,9.39-4.97.17-9.31-2.89-10.98-7.3-.42-1.11-1.5-1.83-2.68-1.79h0c-1.85.06-3.12,1.89-2.52,3.64,2.52,7.35,9.61,12.51,17.78,12.23l10.27-.36c2.83-.1,5.05-2.47,4.95-5.3Z" />
    </g>
    <g id="_x3C_Radial_Repeat_x3E_-8">
        <path class="cls-1"
            d="M53.22,78.37l6.94-7.44c1.06-1.14,1-2.92-.14-3.99l-.07-.06c-.99-.92-2.48-1-3.58-.22-4.29,3.03-10.26,2.75-14.25-.97-3.64-3.4-4.54-8.63-2.6-12.93.49-1.08.23-2.35-.63-3.16h0c-1.35-1.26-3.55-.87-4.36.79-3.41,6.98-2.05,15.64,3.92,21.22l7.51,7.01c2.07,1.93,5.32,1.82,7.25-.25Z" />
    </g>
    </svg>`,
    */
    //circle group
    /*
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER" style="padding:8%;">
    <path class="cls-1" d="M100,50c0-7.56-4.87-14-11.64-16.35,6.77-2.35,11.64-8.79,11.64-16.35,0-9.54-7.76-17.3-17.3-17.3-7.56,0-14,4.87-16.35,11.64C64,4.87,57.56,0,50,0s-14,4.87-16.35,11.64C31.3,4.87,24.86,0,17.3,0,7.76,0,0,7.76,0,17.3c0,7.56,4.87,14,11.64,16.35C4.87,36,0,42.44,0,50s4.87,14,11.64,16.35c-6.77,2.35-11.64,8.79-11.64,16.35,0,9.54,7.76,17.3,17.3,17.3,7.56,0,14-4.87,16.35-11.64,2.35,6.77,8.79,11.64,16.35,11.64s14-4.87,16.35-11.64c2.35,6.77,8.79,11.64,16.35,11.64,9.54,0,17.3-7.76,17.3-17.3,0-7.56-4.87-14-11.64-16.35,6.77-2.35,11.64-8.79,11.64-16.35ZM82.7,1.91c8.49,0,15.39,6.9,15.39,15.39s-6.9,15.39-15.39,15.39-15.39-6.9-15.39-15.39,6.9-15.39,15.39-15.39ZM34.61,50c0-8.49,6.9-15.39,15.39-15.39s15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39-15.39-6.9-15.39-15.39ZM50,1.91c8.49,0,15.39,6.9,15.39,15.39s-6.9,15.39-15.39,15.39-15.39-6.9-15.39-15.39S41.51,1.91,50,1.91ZM1.91,17.3C1.91,8.82,8.82,1.91,17.3,1.91s15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39S1.91,25.79,1.91,17.3ZM1.91,50c0-8.49,6.9-15.39,15.39-15.39s15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39S1.91,58.49,1.91,50ZM17.3,98.09c-8.49,0-15.39-6.9-15.39-15.39s6.9-15.39,15.39-15.39,15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39ZM50,98.09c-8.49,0-15.39-6.9-15.39-15.39s6.9-15.39,15.39-15.39,15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39ZM98.09,82.7c0,8.49-6.9,15.39-15.39,15.39s-15.39-6.9-15.39-15.39,6.9-15.39,15.39-15.39,15.39,6.9,15.39,15.39ZM82.7,65.39c-8.49,0-15.39-6.9-15.39-15.39s6.9-15.39,15.39-15.39,15.39,6.9,15.39,15.39-6.9,15.39-15.39,15.39Z"/>
</svg>`,
*/
//star
/*
`<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="COLOR_PLACEHOLDER">
<path class="cls-1" d="M43.24,99.03c-1.31,0-2.37-.91-2.57-2.21l-5.14-33.88s0-.03-.03-.04c-.02-.01-.04,0-.05,0l-31.91,12.49c-1.22.48-2.54.02-3.19-1.12-.66-1.14-.4-2.5.63-3.32l26.77-21.39s.02-.02.02-.04-.01-.04-.02-.04L.99,28.08c-1.03-.82-1.28-2.19-.63-3.33.66-1.14,1.97-1.6,3.19-1.12l31.91,12.49s.02,0,.05,0c.02-.01.03-.03.03-.04L40.68,2.21c.2-1.3,1.25-2.21,2.57-2.21s2.37.91,2.57,2.21l5.14,33.88s0,.03.03.04c.02.01.04,0,.05,0l31.91-12.49c1.22-.48,2.54-.02,3.19,1.12.66,1.14.4,2.5-.63,3.33l-26.77,21.39s-.02.02-.02.04.01.04.02.04l26.77,21.39c1.03.82,1.28,2.19.63,3.32-.66,1.14-1.97,1.6-3.19,1.12l-31.91-12.49s-.02,0-.05,0c-.02.01-.03.03-.03.04l-5.14,33.88c-.2,1.3-1.25,2.21-2.57,2.21ZM35.48,60.36c.45,0,.89.12,1.3.35.69.4,1.15,1.07,1.27,1.86l5.14,33.88s.01.05.01.05c.01,0,.07,0,.09,0,0,0,0-.02,0-.04l5.14-33.88c.12-.78.58-1.46,1.27-1.86.69-.4,1.5-.46,2.24-.17l31.91,12.49s.05.01.05.01c0,0,.04-.05.04-.08,0,0-.01-.01-.03-.03l-26.77-21.39c-.62-.5-.98-1.23-.98-2.03s.36-1.53.98-2.03l26.77-21.39s.04-.03.04-.03c0-.01-.03-.06-.05-.07,0,0-.02,0-.04.01l-31.91,12.49c-.74.29-1.56.23-2.24-.17-.69-.4-1.15-1.07-1.27-1.86L43.3,2.59s-.01-.05-.01-.05c-.01,0-.07,0-.09,0,0,0,0,.02,0,.04l-5.14,33.88c-.12.78-.58,1.46-1.27,1.86-.69.4-1.5.46-2.24.17L2.63,26s-.05-.01-.05-.01c0,0-.04.05-.04.08,0,0,.01.01.03.03l26.77,21.39c.62.5.98,1.23.98,2.03s-.36,1.53-.98,2.03L2.57,72.93s-.04.03-.04.03c0,.01.03.06.05.07,0,0,.02,0,.04-.01l31.91-12.49c.31-.12.63-.18.95-.18Z"/>
</svg>`,
*/
  // Add more inline SVG templates with COLOR_PLACEHOLDER as needed
];
const emptyCellProbability = 0; // Example: 20% chance of a cell being empty
const numRows = 4; // Set to square configuration
const numCols = 4; // Set to square configuration
const cellStates = Array.from({ length: numRows }, () => Array(numCols).fill(false));

function generateGrid(containerId, numRows, numCols) {
  const container = document.getElementById(containerId);

  for (let row = 0; row < numRows; row++) {
    for (let col = 0; col < numCols; col++) {
      const cell = document.createElement('div');
      cell.classList.add('cell');
      cell.dataset.row = row; // Storing row index
      cell.dataset.col = col; // Storing column index

      if (Math.random() * 100 < emptyCellProbability) {
        // Mark cell as empty (not containing SVG)
        cellStates[row][col] = false;
        // Optionally adjust style for empty cells
      } else {
        // Populate cell with SVG and background color
        // This includes your existing logic for setting the SVG content and background color
        const svgColor = hexColors[Math.floor(Math.random() * hexColors.length)];
        const remainingColors = hexColors.filter(color => color !== svgColor);
        const backgroundColor = '#fb4c29';
        //const backgroundColor = remainingColors[Math.floor(Math.random() * remainingColors.length)];
        cell.style.backgroundColor = backgroundColor;

        const rotation = rotationDegrees[Math.floor(Math.random() * rotationDegrees.length)];
        const svgTemplate = svgTemplates[Math.floor(Math.random() * svgTemplates.length)];
        const svgContent = svgTemplate.replace('COLOR_PLACEHOLDER', svgColor);
        const svgElement = new DOMParser().parseFromString(svgContent, 'image/svg+xml').documentElement;
        
        svgElement.style.transform = `rotate(${rotation}deg)`;
        cell.appendChild(svgElement);

        cellStates[row][col] = true;
      }

      container.appendChild(cell);
    }
  }
  applyBlankBackgroundRule();
}

function applyBlankBackgroundRule() {
  for (let row = 0; row < numRows; row++) {
    for (let col = 0; col < numCols; col++) {
      if (cellStates[row][col]) { // Only proceed if cell originally contains SVG
        let emptyNeighbors = 0;
        if (row > 0 && !cellStates[row-1][col]) emptyNeighbors++;
        if (row < numRows - 1 && !cellStates[row+1][col]) emptyNeighbors++;
        if (col > 0 && !cellStates[row][col-1]) emptyNeighbors++;
        if (col < numCols - 1 && !cellStates[row][col+1]) emptyNeighbors++;

        if (emptyNeighbors >= 3) {
          const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
          cell.style.backgroundColor = 'transparent'; // Remove background color
          // If you also want to remove the SVG from cells that don't meet the condition, add that logic here
        }
      }
    }
  }
}

generateGrid('svgGrid', numRows, numCols);

function saveGridAsImage() {
  html2canvas(document.querySelector("#svgGrid")).then(canvas => {
    const link = document.createElement('a');
    link.download = 'svgGrid.png';
    link.href = canvas.toDataURL('image/png');
    link.click();
  });
}

</script>

</body>
</html>
